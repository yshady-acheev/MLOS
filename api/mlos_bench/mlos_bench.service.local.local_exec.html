<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>mlos_bench.service.local.local_exec module &mdash; MlosCore 0.1.dev1+gf6058a1 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/plot_directive.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="mlos_bench.service.remote package" href="mlos_bench.service.remote.html" />
    <link rel="prev" title="mlos_bench.service.local package" href="mlos_bench.service.local.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            MlosCore
          </a>
              <div class="version">
                0.1.dev1+gf6058a1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../overview.html">mlos-core API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../overview.html#mlos-bench-api">mlos-bench API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../mlos_core/modules.html">mlos_core</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">mlos_bench</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="mlos_bench.html">mlos_bench package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="mlos_bench.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="mlos_bench.environment.html">mlos_bench.environment package</a></li>
<li class="toctree-l4"><a class="reference internal" href="mlos_bench.optimizer.html">mlos_bench.optimizer package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="mlos_bench.service.html">mlos_bench.service package</a></li>
<li class="toctree-l4"><a class="reference internal" href="mlos_bench.storage.html">mlos_bench.storage package</a></li>
<li class="toctree-l4"><a class="reference internal" href="mlos_bench.tests.html">mlos_bench.tests package</a></li>
<li class="toctree-l4"><a class="reference internal" href="mlos_bench.tunables.html">mlos_bench.tunables package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="mlos_bench.html#submodules">Submodules</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">MlosCore</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">mlos_bench</a></li>
          <li class="breadcrumb-item"><a href="mlos_bench.html">mlos_bench package</a></li>
          <li class="breadcrumb-item"><a href="mlos_bench.service.html">mlos_bench.service package</a></li>
          <li class="breadcrumb-item"><a href="mlos_bench.service.local.html">mlos_bench.service.local package</a></li>
      <li class="breadcrumb-item active">mlos_bench.service.local.local_exec module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/api/mlos_bench/mlos_bench.service.local.local_exec.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-mlos_bench.service.local.local_exec">
<span id="mlos-bench-service-local-local-exec-module"></span><h1>mlos_bench.service.local.local_exec module<a class="headerlink" href="#module-mlos_bench.service.local.local_exec" title="Permalink to this heading">¶</a></h1>
<p>Helper functions to run scripts and commands locally on the scheduler side.</p>
<dl class="py class">
<dt class="sig sig-object py" id="mlos_bench.service.local.local_exec.LocalExecService">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mlos_bench.service.local.local_exec.</span></span><span class="sig-name descname"><span class="pre">LocalExecService</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="mlos_bench.service.base_service.html#mlos_bench.service.base_service.Service" title="mlos_bench.service.base_service.Service"><span class="pre">Service</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mlos_bench.service.local.local_exec.LocalExecService" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="mlos_bench.service.base_service.html#mlos_bench.service.base_service.Service" title="mlos_bench.service.base_service.Service"><code class="xref py py-class docutils literal notranslate"><span class="pre">Service</span></code></a>, <a class="reference internal" href="mlos_bench.service.types.local_exec_type.html#mlos_bench.service.types.local_exec_type.SupportsLocalExec" title="mlos_bench.service.types.local_exec_type.SupportsLocalExec"><code class="xref py py-class docutils literal notranslate"><span class="pre">SupportsLocalExec</span></code></a></p>
<p>Collection of methods to run scripts and commands in an external process
on the node acting as the scheduler. Can be useful for data processing
due to reduced dependency management complications vs the target environment.</p>
<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">export</span></code>()</p></td>
<td><p>Return a dictionary of functions available in this service.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mlos_bench.service.local.local_exec.LocalExecService.local_exec" title="mlos_bench.service.local.local_exec.LocalExecService.local_exec"><code class="xref py py-obj docutils literal notranslate"><span class="pre">local_exec</span></code></a>(script_lines[, env, cwd, ...])</p></td>
<td><p>Execute the script lines from <cite>script_lines</cite> in a local process.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">new</span></code>(class_name, config, parent)</p></td>
<td><p>Factory method for a new service with a given config.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">register</span></code>(services)</p></td>
<td><p>Register new mix-in services.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mlos_bench.service.local.local_exec.LocalExecService.temp_dir_context" title="mlos_bench.service.local.local_exec.LocalExecService.temp_dir_context"><code class="xref py py-obj docutils literal notranslate"><span class="pre">temp_dir_context</span></code></a>([path])</p></td>
<td><p>Create a temp directory or use the provided path.</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="mlos_bench.service.local.local_exec.LocalExecService.local_exec">
<span class="sig-name descname"><span class="pre">local_exec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">script_lines</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">TunableValue</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cwd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_on_error</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#mlos_bench.service.local.local_exec.LocalExecService.local_exec" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute the script lines from <cite>script_lines</cite> in a local process.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>script_lines</strong><span class="classifier">Iterable[str]</span></dt><dd><p>Lines of the script to run locally.
Treat every line as a separate command to run.</p>
</dd>
<dt><strong>env</strong><span class="classifier">Mapping[str, Union[int, float, str]]</span></dt><dd><p>Environment variables (optional).</p>
</dd>
<dt><strong>cwd</strong><span class="classifier">str</span></dt><dd><p>Work directory to run the script at.
If omitted, use <cite>temp_dir</cite> or create a temporary dir.</p>
</dd>
<dt><strong>return_on_error</strong><span class="classifier">bool</span></dt><dd><p>If True, stop running script lines on first non-zero return code.
The default is False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>(return_code, stdout, stderr)</strong><span class="classifier">(int, str, str)</span></dt><dd><p>A 3-tuple of return code, stdout, and stderr of the script process.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mlos_bench.service.local.local_exec.LocalExecService.temp_dir_context">
<span class="sig-name descname"><span class="pre">temp_dir_context</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">TemporaryDirectory</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">nullcontext</span></span></span><a class="headerlink" href="#mlos_bench.service.local.local_exec.LocalExecService.temp_dir_context" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a temp directory or use the provided path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>path</strong><span class="classifier">str</span></dt><dd><p>A path to the temporary directory. Create a new one if None.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>temp_dir_context</strong><span class="classifier">TemporaryDirectory</span></dt><dd><p>Temporary directory context to use in the <cite>with</cite> clause.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="mlos_bench.service.local.html" class="btn btn-neutral float-left" title="mlos_bench.service.local package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="mlos_bench.service.remote.html" class="btn btn-neutral float-right" title="mlos_bench.service.remote package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, GSL.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>